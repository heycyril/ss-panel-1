webpackJsonp([1],[,,,function(e,t,i){"use strict";var s=i(280),a=i.n(s),n=i(276),l=i.n(n),r=i(278),o=i.n(r),c=i(46),u=i.n(c),d=i(451),_=(i.n(d),i(23)),v=i.n(_),f=i(407),p=i.n(f),m=!1,w=function(e){return p.a.format({protocol:"https",host:"open.weixin.qq.com",pathname:"/connect/oauth2/authorize",query:u()(e,{state:location.href}),hash:"#wechat_redirect"})},h=function(e,t){if(m)return!1;switch(e){case 401:return m=!0,location.href=w(t.extra),!0;default:return alert(t.msg),!1}},C=function(){var e=o()(a.a.mark(function e(t,i){var s,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||{},i.method=i.method||"GET",i.credentials="same-origin",-1!==["POST","PUT"].indexOf(i.method)&&(i.headers=i.headers||{},i.body instanceof FormData||i.headers["Content-Type"]||i.headers["content-type"]||(i.headers["Content-Type"]="application/json",i.body&&"string"!=typeof body&&(i.body=l()(i.body)))),t+=p.a.format({query:i.query}),i.query=void 0,s=void 0,n=void 0,e.prev=7,e.next=10,fetch(t,i);case 10:return r=e.sent,s=r.status,e.next=14,r.json();case 14:if(n=e.sent,!(s>=400)){e.next=17;break}throw new Error(n.msg);case 17:e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(7),v.a.isObject(n)||(n={msg:e.t0.message}),h(s,n),e.t0;case 24:return e.abrupt("return",{status:s,data:n});case 25:case"end":return e.stop()}},e,this,[[7,19]])}));return function(t,i){return e.apply(this,arguments)}}();t.a=C},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function s(e){return n()(e).fromNow()}t.a=s;var a=i(0),n=i.n(a);n.a.locale("zh-cn")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s=i(2)(i(255),i(446),null,null);e.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(393);var s=i(2)(null,i(444),null,null);e.exports=s.exports},function(e,t,i){i(383);var s=i(2)(i(256),i(433),null,null);e.exports=s.exports},function(e,t,i){i(384);var s=i(2)(i(257),i(434),null,null);e.exports=s.exports},function(e,t,i){var s=i(2)(i(258),i(445),null,null);e.exports=s.exports},function(e,t,i){i(380);var s=i(2)(i(259),i(430),null,null);e.exports=s.exports},function(e,t,i){var s=i(2)(i(260),i(441),null,null);e.exports=s.exports},function(e,t,i){i(392);var s=i(2)(i(251),i(443),null,null);e.exports=s.exports},,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(419),a=i.n(s),n=i(418),l=i.n(n),r=i(417),o=i.n(r),c=i(416),u=i.n(c),d=i(414),_=i.n(d),v=i(412),f=i.n(v),p=i(413),m=i.n(p),w=i(415),h=i.n(w),C=i(424),b=i.n(C),g=i(421),x=i.n(g),k=i(422),y=i.n(k),L=i(423),j=i.n(L),E=i(420),S=i.n(E),$=i(411),I=i.n($),P={template:"<p>Page Not Found</p>"},N=" - 科学上网";t.a={routes:[{path:"/",redirect:{name:"services"}},{path:"/services",name:"services",component:a.a,meta:{title:"服务"+N}},{path:"/services/:serviceId",name:"service-detail",component:l.a,meta:{title:"服务详情"+N}},{path:"/profile",name:"profile",component:o.a,meta:{title:"我"+N}},{path:"/profile/edit",name:"profile-edit",component:u.a,meta:{title:"修改资料"+N}},{path:"/nodes",name:"nodes",component:_.a,meta:{title:"节点"+N}},{path:"/nodes/add",name:"node-add",component:m.a,meta:{title:"添加节点"+N}},{path:"/nodes/:nodeId/detail",name:"node-detail",component:f.a,meta:{title:"节点详情"+N}},{path:"/nodes/:nodeId/edit",name:"node-edit",component:m.a,meta:{title:"编辑节点"+N}},{path:"/nodes/:nodeId/tokens/:tokenId/detail",name:"node-token-detail",component:h.a,meta:{title:"Token详情"+N}},{path:"/users",name:"users",component:b.a,meta:{title:"用户"+N}},{path:"/users/add",name:"user-add",component:x.a,meta:{title:"添加用户"+N}},{path:"/users/:userId",name:"user-detail",component:y.a,meta:{title:"用户详情"+N}},{path:"/users/:userId/edit",name:"user-edit",component:j.a,meta:{title:"编辑用户"+N}},{path:"/traffic/stat",name:"traffic-stat",component:S.a,meta:{title:"流量详情"+N}},{path:"/configs",name:"configs",component:I.a,meta:{title:"配置"+N}},{path:"*",component:P,meta:{title:"页面未找到"}}]}},function(e,t){},function(e,t){},function(e,t){},,function(e,t,i){i(387);var s=i(2)(i(252),i(437),null,null);e.exports=s.exports},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(246),a=(i.n(s),i(244)),n=(i.n(a),i(245)),l=(i.n(n),i(73)),r=i(249),o=i(247),c=i.n(o),u=i(243),d=i(248),_=i.n(d);l.a.use(r.a),l.a.use(c.a);var v=new r.a({routes:u.a.routes});v.beforeEach(function(e,t,i){document.title=e.meta.title||"",i()}),new l.a({el:"#app",router:v,template:"<App/>",components:{App:_.a}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(279),a=i.n(s),n=i(5),l=i.n(n),r=i(399),o=i.n(r),c=i(73),u=["legendselectchanged","legendselected","legendunselected","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","brush","brushselected"],d=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];t.default={props:{options:Object,theme:String,initOptions:Object,group:String,autoResize:Boolean},data:function(){return{chart:null}},computed:{width:{cache:!1,get:function(){return this._delegateGet("width","getWidth")}},height:{cache:!1,get:function(){return this._delegateGet("height","getHeight")}},isDisposed:{cache:!1,get:function(){return!!this._delegateGet("isDisposed","isDisposed")}},computedOptions:{cache:!1,get:function(){return this._delegateGet("computedOptions","getOption")}}},watch:{options:{handler:function(e){!this.chart&&e?this._init():this.chart.setOption(this.options,!0)},deep:!0},group:{handler:function(e){this.chart.group=e}}},methods:{mergeOptions:function(e){this._delegateMethod("setOption",e)},resize:function(e){this._delegateMethod("resize",e)},dispatchAction:function(e){this._delegateMethod("dispatchAction",e)},convertToPixel:function(e,t){return this._delegateMethod("convertToPixel",e,t)},convertFromPixel:function(e,t){return this._delegateMethod("convertFromPixel",e,t)},containPixel:function(e,t){return this._delegateMethod("containPixel",e,t)},showLoading:function(e,t){this._delegateMethod("showLoading",e,t)},hideLoading:function(){this._delegateMethod("hideLoading")},getDataURL:function(e){return this._delegateMethod("getDataURL",e)},getConnectedDataURL:function(e){return this._delegateMethod("getConnectedDataURL",e)},clear:function(){this._delegateMethod("clear")},dispose:function(){this._delegateMethod("dispose")},_delegateMethod:function(e){var t;if(!this.chart)return void c.a.util.warn("Cannot call ["+e+"] before the chart is initialized. Set prop [options] first.",this);for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return(t=this.chart)[e].apply(t,a()(s))},_delegateGet:function(e,t){return this.chart||c.a.util.warn("Cannot get ["+e+"] before the chart is initialized. Set prop [options] first.",this),this.chart[t]()},_init:function(){var e=this;if(!this.chart){var t=l.a.init(this.$el,this.theme,this.initOptions);this.group&&(t.group=this.group),t.setOption(this.options,!0),u.forEach(function(i){t.on(i,function(t){e.$emit(i,t)})}),d.forEach(function(i){t.on(i,function(t){e.$emit(i,t),e.$emit("chart"+i,t)})}),this.autoResize&&(this.__resizeHanlder=o()(function(){t.resize()},100,{leading:!0}),window.addEventListener("resize",this.__resizeHanlder)),this.chart=t}}},mounted:function(){this.options&&this._init()},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHanlder),this.dispose())},connect:function(e){"string"!=typeof e&&(e=e.map(function(e){return e.chart})),l.a.connect(e)},disconnect:function(e){l.a.disConnect(e)},registerMap:function(){l.a.registerMap.apply(l.a,arguments)},registerTheme:function(){l.a.registerTheme.apply(l.a,arguments)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={data:function(){return{profile:{},tabberShow:!1,tabberClass:[]}},created:function(){this.updateTabber(),this.fetchProfile()},methods:{fetchProfile:function(){var e=this;i.i(s.a)("/api/profile").then(function(t){var i=t.data;e.profile=i})},updateTabber:function(){var e=this.$route.name,t=["services","profile","users","nodes","configs"];if(-1===t.indexOf(e))return void(this.tabberShow=!1);this.tabberShow=!0;for(var i=0;i<t.length;i++)e===t[i]?this.tabberClass[i]=["weui-bar__item_on"]:this.tabberClass[i]=[]}},watch:{$route:function(){this.updateTabber()}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(21);t.default={props:["loading","tokens"],methods:{fromNow:s.a,getDetailLink:function(e){return{name:"node-token-detail",params:{nodeId:this.$route.params.nodeId,tokenId:e}}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),a=i.n(s),n=i(21);t.default={props:["loading","users"],data:function(){return{showAll:!1}},computed:{filtered:function(){return a.a.slice(this.users,0,this.showAll?this.users.length:5)}},methods:{fromNow:n.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["isprofile","user","loading"]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(74),a=i.n(s),n=i(23),l=i.n(n),r=i(230),o=i.n(r),c=i(324),u=(i.n(c),i(336)),d=(i.n(u),i(224)),_=i.n(d);t.default={props:["data","loading"],components:{ECharts:o.a,Background:_.a},data:function(){return{options:null}},created:function(){this.updateChart()},methods:{updateChart:function(){if(this.loading)return!1;var e=[],t=[],i=!0,s=!1,n=void 0;try{for(var r,o=a()(this.data);!(i=(r=o.next()).done);i=!0){var c=r.value;e.push(c.date),t.push(l.a.round((c.flowUp+c.flowDown)/1073741824,2))}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}var u=l.a.fill(Array(this.data.length),l.a.ceil(l.a.max(t)));this.options={xAxis:[{type:"category",data:e,axisLabel:{textStyle:{color:"#fff"}},axisLine:{lineStyle:{color:"#eee"}}}],yAxis:{axisLabel:{textStyle:{color:"#fff"}},axisLine:{lineStyle:{color:"#eee"}},splitLine:{show:!1}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,0.05)"}},barGap:"-100%",barCategoryGap:"40%",data:u,animation:!1},{type:"bar",itemStyle:{normal:{color:"rgba(54, 162, 235, 0.8)"},emphasis:{color:"rgba(54, 162, 235, 1)"}},data:t}]}}},watch:{data:function(){this.updateChart()}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),a=i.n(s),n=i(41),l=i.n(n),r=i(230),o=i.n(r),c=i(318),u=(i.n(c),i(224)),d=i.n(u);t.default={props:["user"],components:{ECharts:o.a,Background:d.a},data:function(){return{options:{series:{type:"liquidFill",color:["#36A2EB"],data:[0],outline:{show:!1},label:{normal:{textStyle:{fontSize:22,fontWeight:400,color:"#36A2EB"}}}}}}},computed:{trafficLimit:function(){return this.user?this.user.trafficLimit||0:0},trafficUsed:function(){return this.user?this.user.flowUp+this.user.flowDown||0:0},trafficPercent:function(){var e=this.trafficLimit-this.trafficUsed;return e<0||this.trafficLimit<=0?0:a.a.round(e/this.trafficLimit,4)}},created:function(){this.user.trafficLimit&&this.updateChart()},methods:{filesize:l.a,updateChart:function(){this.options.series.data=[this.trafficPercent]}},watch:{user:function(){this.updateChart()}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(46),a=i.n(s),n=i(41),l=i.n(n);t.default={props:["isprofile","user","loading"],computed:{detailLink:function(){if(this.loading)return{};var e={name:"traffic-stat"};return this.isprofile?e:a()(e,{query:{userId:this.user.userId}})}},methods:{filesize:l.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),a=i.n(s),n=i(41),l=i.n(n);t.default={props:["loading","stat","fold"],data:function(){return{showAll:!1}},computed:{data:function(){if(!this.stat||!this.stat.length)return[];var e=a.a.reverse(a.a.slice(this.stat));return!this.fold||this.showAll?e:a.a.slice(e,0,5)}},methods:{filesize:l.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(21);t.default={props:["user","loading"],methods:{fromNow:s.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(74),a=i.n(s),n=i(3);t.default={data:function(){return{isLoading:!1,configs:[]}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(n.a)("/api/configs").then(function(t){var i=t.data;e.isLoading=!1;var s=!0,n=!1,l=void 0;try{for(var r,o=a()(i);!(s=(r=o.next()).done);s=!0){var c=r.value;c.newValue=c.value}}catch(e){n=!0,l=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw l}}e.configs=i}).catch(function(){e.isLoading=!1})},change:function(e,t,i){this.configs[e][t]=i,this.$set(this.configs,e,this.configs[e])},update:function(e){var t=this;this.change(e,"isLoading",!0),i.i(n.a)("/api/configs/"+this.configs[e].configId,{method:"PUT",body:{value:this.configs[e].newValue}}).then(function(i){i.data;t.change(e,"isLoading",!1),t.change(e,"value",t.configs[e].newValue)})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),a=i(410),n=i.n(a),l=i(409),r=i.n(l),o=i(228),c=i.n(o),u=i(225),d=i.n(u),_=i(21);t.default={props:["profile"],components:{NodeUsers:n.a,NodeTokens:r.a,TrafficStat:c.a,TrafficChartStat:d.a},data:function(){return{node:{},tokens:{},users:[],stat:[],isLoading:{node:!1,tokens:!1,stat:!1,users:!1}}},computed:{nodeId:function(){return this.$route.params.nodeId}},created:function(){this.fetchNode(),this.fetchTokens(),this.fetchUsers(),this.fetchStat()},methods:{fetchNode:function(){var e=this;this.isLoading.node=!0,i.i(s.a)("/api/nodes/"+this.nodeId).then(function(t){var i=t.data;e.isLoading.node=!1,e.node=i}).catch(function(){e.isLoading.node=!1})},fetchTokens:function(){var e=this;this.isLoading.tokens=!0,i.i(s.a)("/api/nodes/"+this.nodeId+"/tokens").then(function(t){var i=t.data;e.isLoading.tokens=!1,e.tokens=i}).catch(function(){e.isLoading.tokens=!1})},createToken:function(){var e=this,t=prompt("请输入Token用途描述","");t&&(this.isLoading.tokens=!0,i.i(s.a)("/api/nodes/"+this.nodeId+"/tokens",{method:"POST",body:{title:t}}).then(function(t){var i=t.data;e.$router.push({name:"node-token-detail",params:{nodeId:e.nodeId,tokenId:i.nodeTokenId}})}).catch(function(){e.isLoading.tokens=!1}))},fetchUsers:function(){var e=this;this.isLoading.users=!0,i.i(s.a)("/api/traffic/users",{query:{nodeId:this.nodeId}}).then(function(t){var i=t.data;e.isLoading.users=!1,e.users=i}).catch(function(){e.isLoading.users=!1})},fetchStat:function(){var e=this;this.isLoading.stat=!0,i.i(s.a)("/api/traffic/stat",{query:{nodeId:this.nodeId}}).then(function(t){var i=t.data;e.isLoading.stat=!1,e.stat=i}).catch(function(){e.isLoading.stat=!1})},fromNow:_.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={data:function(){return{name:null,location:null,description:null,server:null,method:null,isVisible:1,sort:1,isLoading:!1,isSubmit:!1,isRemove:!1}},computed:{nodeId:function(){return this.$route.params.nodeId},isSortError:function(){return this.sort&&(isNaN(this.sort)||this.sort<=0)},isValid:function(){return this.name&&this.location&&this.description&&this.server&&this.method&&null!==this.isVisible&&this.sort&&!this.isSortError}},created:function(){this.nodeId&&this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/nodes/"+this.nodeId).then(function(t){var i=t.data;e.isLoading=!1,e.name=i.name,e.location=i.location,e.description=i.description,e.server=i.server,e.method=i.method,e.isVisible=Number(i.isVisible),e.sort=i.sort}).catch(function(){e.isLoading=!1})},submit:function(){var e=this;if(!this.isValid||this.isSubmit||this.isRemove)return!1;this.isSubmit=!0;var t="/api/nodes",a="POST";this.nodeId&&(t="/api/nodes/"+this.nodeId,a="PUT"),i.i(s.a)(t,{method:a,body:{name:this.name,location:this.location,description:this.description,server:this.server,method:this.method,isVisible:Boolean(Number(this.isVisible)),sort:Number(this.sort)}}).then(function(t){var i=t.data;e.isSubmit=!1,e.$router.push({name:"node-detail",params:{nodeId:i.nodeId}})}).catch(function(){e.isSubmit=!1})},remove:function(){var e=this;return!this.isSubmit&&!this.isRemove&&(!!confirm("你确定要删除当前节点吗?")&&(this.isRemove=!0,void i.i(s.a)("/api/nodes/"+this.nodeId,{method:"DELETE"}).then(function(){e.isRemove=!1,e.$router.push({name:"nodes"})}).catch(function(){e.isRemove=!1})))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={data:function(){return{isLoading:!1,items:[]}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/nodes").then(function(t){var i=t.data;e.isLoading=!1,e.items=i}).catch(function(){e.isLoading=!1})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),a=i(21);t.default={data:function(){return{token:null,isLoading:!1,showCopySuccess:!1}},computed:{nodeId:function(){return this.$route.params.nodeId},tokenId:function(){return this.$route.params.tokenId}},created:function(){this.fetch()},methods:{fromNow:a.a,fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/nodes/"+this.nodeId+"/tokens/"+this.tokenId).then(function(t){var i=t.data;e.isLoading=!1,e.token=i})},refresh:function(){var e=this;if(!confirm("你确定要重置吗?"))return!1;this.isLoading=!0,i.i(s.a)("/api/nodes/"+this.nodeId+"/tokens/"+this.tokenId+"/refresh",{method:"POST"}).then(function(t){var i=t.data;e.isLoading=!1,e.token=i})},remove:function(){var e=this;if(!confirm("你确定要删除?"))return!1;this.isLoading=!0,i.i(s.a)("/api/nodes/"+this.nodeId+"/tokens/"+this.tokenId,{method:"DELETE"}).then(function(t){t.data;e.isLoading=!1,e.$router.push({name:"node-detail"})})},copySuccess:function(){var e=this;this.showCopySuccess||(this.showCopySuccess=!0,setTimeout(function(){e.showCopySuccess=!1},1e3))},copyError:function(){alert("复制失败")}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={props:["profile"],data:function(){return{port:null,password:null,isSubmit:!1}},computed:{isLoading:function(){return!this.profile.port&&!this.profile.password},isPortError:function(){return this.port&&(isNaN(this.port)||this.port>65535||this.port<=0)},isPasswordError:function(){return this.password&&(this.password.length<6||this.password.length>12)},isValid:function(){return this.port&&this.password&&!this.isPortError&&!this.isPasswordError}},created:function(){this.port=this.profile.port,this.password=this.profile.password},methods:{submit:function(){var e=this;if(!this.isValid||this.isSubmit)return!1;this.isSubmit=!0;var t=Number(this.port),a=this.password;i.i(s.a)("/api/profile",{method:"PUT",body:{port:t,password:a}}).then(function(){e.isSubmit=!1,e.$emit("profileUpdate"),e.$router.go(-1)}).catch(function(){e.isSubmit=!1})}},watch:{profile:function(){this.port=this.profile.port,this.password=this.profile.password}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(227),a=i.n(s),n=i(68),l=i.n(n),r=i(226),o=i.n(r),c=i(229),u=i.n(c);t.default={props:["profile"],components:{TrafficInfo:a.a,ServiceInfo:l.a,TrafficChartSum:o.a,UserInfo:u.a},computed:{isLoading:function(){return!this.profile.port&&!this.profile.password}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var s=i(3);t.default={data:function(){return{serviceId:null,isLoading:!1,service:{uri:"ss://"},showSuccess:!1}},created:function(){this.serviceId=Number(this.$route.params.serviceId),this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/services/"+this.serviceId).then(function(t){var i=t.data;e.isLoading=!1,e.service=i,e.service.uri=e.genUri(i)})},genUri:function(t){var i=t.method+":"+t.password;i=new e(i).toString("base64"),i=i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");var s=encodeURIComponent(t.name);return"ss://"+i+"@"+t.server+":"+t.port+"#"+s},copySuccess:function(){var e=this;this.showSuccess||(this.showSuccess=!0,setTimeout(function(){e.showSuccess=!1},1e3))},copyError:function(){alert("复制失败")}}}}.call(t,i(282).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),a=i(68),n=i.n(a);t.default={props:["profile"],components:{ServiceInfo:n.a},data:function(){return{loading:!1,items:[]}},computed:{isLoading:function(){return!this.profile.port&&!this.profile.password}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.loading=!0,i.i(s.a)("/api/services").then(function(t){var i=t.data;e.loading=!1,e.items=i}).catch(function(){e.loading=!1})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),a=i(228),n=i.n(a),l=i(225),r=i.n(l);t.default={props:["profile"],components:{TrafficStat:n.a,TrafficChartStat:r.a},data:function(){return{stat:[],isLoading:!1}},computed:{query:function(){return this.$route.query},userId:function(){return this.query&&this.query.userId},backLink:function(){return this.userId?{name:"user-detail",params:{userId:this.userId}}:{name:"profile"}}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/traffic/stat",{query:this.query}).then(function(t){var i=t.data;e.isLoading=!1,e.stat=i}).catch(function(){e.isLoading=!1})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={data:function(){return{username:null,nickname:null,isLoading:!1}},computed:{isValid:function(){return this.username&&this.nickname}},methods:{add:function(){var e=this;if(!this.isValid||this.isLoading)return!1;this.isLoading=!0,i.i(s.a)("/api/users",{method:"POST",body:{username:this.username,nickname:this.nickname}}).then(function(t){var i=t.data.userId;e.isLoading=!1,e.$router.push({name:"user-detail",params:{userId:i}})}).catch(function(){e.isLoading=!1})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),a=i(226),n=i.n(a),l=i(227),r=i.n(l),o=i(68),c=i.n(o),u=i(229),d=i.n(u);t.default={props:["profile"],components:{TrafficChartSum:n.a,TrafficInfo:r.a,ServiceInfo:c.a,UserInfo:d.a},data:function(){return{user:{},isLoading:!1}},computed:{userId:function(){return this.$route.params.userId}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/users/"+this.userId).then(function(t){var i=t.data;e.isLoading=!1,e.user=i}).catch(function(){e.isLoading=!1})}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(3);t.default={data:function(){return{username:null,nickname:null,port:null,password:null,trafficLimit:null,isAdmin:null,isLocked:null,isLoading:!1,isSubmit:!1,isRemove:!1}},computed:{userId:function(){return this.$route.params.userId},isPortError:function(){return this.port&&(isNaN(this.port)||this.port>65535||this.port<=0)},isPasswordError:function(){return this.password&&(this.password.length<6||this.password.length>12)},isTrafficError:function(){return this.trafficLimit&&isNaN(this.trafficLimit)},isValid:function(){return this.username&&this.nickname&&this.port&&!this.isPortError&&this.password&&!this.isPasswordError&&this.trafficLimit&&!this.isTrafficError&&null!==this.isAdmin&&null!==this.isLocked}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(s.a)("/api/users/"+this.userId).then(function(t){var i=t.data;e.isLoading=!1,e.username=i.username,e.nickname=i.nickname,e.port=i.port,e.password=i.password,e.trafficLimit=i.trafficLimit/1073741824,e.isAdmin=Number(i.isAdmin),e.isLocked=Number(i.isLocked)}).catch(function(){e.isLoading=!1})},submit:function(){var e=this;if(!this.isValid||this.isSubmit)return!1;this.isSubmit=!0,i.i(s.a)("/api/users/"+this.userId,{method:"PUT",body:{username:this.username,nickname:this.nickname,port:Number(this.port),password:this.password,trafficLimit:1073741824*this.trafficLimit,isAdmin:Boolean(Number(this.isAdmin)),isLocked:Boolean(Number(this.isLocked))}}).then(function(){e.isSubmit=!1,e.$router.push({name:"user-detail"})}).catch(function(){e.isSubmit=!1})},remove:function(){var e=this;return!this.isSubmit&&!this.isRemove&&(!!confirm("你确定要删除当前用户吗?")&&(this.isRemove=!0,void i.i(s.a)("/api/users/"+this.userId,{method:"DELETE"}).then(function(){e.isRemove=!1,e.$router.push({name:"users"})}).catch(function(){e.isRemove=!1})))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(46),a=i.n(s),n=i(23),l=i.n(n),r=i(3),o=i(41),c=i.n(o),u=i(21);t.default={data:function(){return{isLoading:!1,items:[]}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;this.isLoading=!0,i.i(r.a)("/api/users").then(function(t){var i=t.data;e.isLoading=!1,e.items=l.a.chain(i).map(function(e){return a()(e,{sortDatetime:e.activedAt||e.createdAt})}).sortBy("sortDatetime").reverse().value()}).catch(function(){e.isLoading=!1})},filesize:c.a,fromNow:u.a}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,i){function s(e){return i(a(e))}function a(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":101,"./af.js":101,"./ar":108,"./ar-dz":102,"./ar-dz.js":102,"./ar-kw":103,"./ar-kw.js":103,"./ar-ly":104,"./ar-ly.js":104,"./ar-ma":105,"./ar-ma.js":105,"./ar-sa":106,"./ar-sa.js":106,"./ar-tn":107,"./ar-tn.js":107,"./ar.js":108,"./az":109,"./az.js":109,"./be":110,"./be.js":110,"./bg":111,"./bg.js":111,"./bm":112,"./bm.js":112,"./bn":113,"./bn.js":113,"./bo":114,"./bo.js":114,"./br":115,"./br.js":115,"./bs":116,"./bs.js":116,"./ca":117,"./ca.js":117,"./cs":118,"./cs.js":118,"./cv":119,"./cv.js":119,"./cy":120,"./cy.js":120,"./da":121,"./da.js":121,"./de":124,"./de-at":122,"./de-at.js":122,"./de-ch":123,"./de-ch.js":123,"./de.js":124,"./dv":125,"./dv.js":125,"./el":126,"./el.js":126,"./en-au":127,"./en-au.js":127,"./en-ca":128,"./en-ca.js":128,"./en-gb":129,"./en-gb.js":129,"./en-ie":130,"./en-ie.js":130,"./en-il":131,"./en-il.js":131,"./en-nz":132,"./en-nz.js":132,"./eo":133,"./eo.js":133,"./es":136,"./es-do":134,"./es-do.js":134,"./es-us":135,"./es-us.js":135,"./es.js":136,"./et":137,"./et.js":137,"./eu":138,"./eu.js":138,"./fa":139,"./fa.js":139,"./fi":140,"./fi.js":140,"./fo":141,"./fo.js":141,"./fr":144,"./fr-ca":142,"./fr-ca.js":142,"./fr-ch":143,"./fr-ch.js":143,"./fr.js":144,"./fy":145,"./fy.js":145,"./gd":146,"./gd.js":146,"./gl":147,"./gl.js":147,"./gom-latn":148,"./gom-latn.js":148,"./gu":149,"./gu.js":149,"./he":150,"./he.js":150,"./hi":151,"./hi.js":151,"./hr":152,"./hr.js":152,"./hu":153,"./hu.js":153,"./hy-am":154,"./hy-am.js":154,"./id":155,"./id.js":155,"./is":156,"./is.js":156,"./it":157,"./it.js":157,"./ja":158,"./ja.js":158,"./jv":159,"./jv.js":159,"./ka":160,"./ka.js":160,"./kk":161,"./kk.js":161,"./km":162,"./km.js":162,"./kn":163,"./kn.js":163,"./ko":164,"./ko.js":164,"./ky":165,"./ky.js":165,"./lb":166,"./lb.js":166,"./lo":167,"./lo.js":167,"./lt":168,"./lt.js":168,"./lv":169,"./lv.js":169,"./me":170,"./me.js":170,"./mi":171,"./mi.js":171,"./mk":172,"./mk.js":172,"./ml":173,"./ml.js":173,"./mn":174,"./mn.js":174,"./mr":175,"./mr.js":175,"./ms":177,"./ms-my":176,"./ms-my.js":176,"./ms.js":177,"./mt":178,"./mt.js":178,"./my":179,"./my.js":179,"./nb":180,"./nb.js":180,"./ne":181,"./ne.js":181,"./nl":183,"./nl-be":182,"./nl-be.js":182,"./nl.js":183,"./nn":184,"./nn.js":184,"./pa-in":185,"./pa-in.js":185,"./pl":186,"./pl.js":186,"./pt":188,"./pt-br":187,"./pt-br.js":187,"./pt.js":188,"./ro":189,"./ro.js":189,"./ru":190,"./ru.js":190,"./sd":191,"./sd.js":191,"./se":192,"./se.js":192,"./si":193,"./si.js":193,"./sk":194,"./sk.js":194,"./sl":195,"./sl.js":195,"./sq":196,"./sq.js":196,"./sr":198,"./sr-cyrl":197,"./sr-cyrl.js":197,"./sr.js":198,"./ss":199,"./ss.js":199,"./sv":200,"./sv.js":200,"./sw":201,"./sw.js":201,"./ta":202,"./ta.js":202,"./te":203,"./te.js":203,"./tet":204,"./tet.js":204,"./tg":205,"./tg.js":205,"./th":206,"./th.js":206,"./tl-ph":207,"./tl-ph.js":207,"./tlh":208,"./tlh.js":208,"./tr":209,"./tr.js":209,"./tzl":210,"./tzl.js":210,"./tzm":212,"./tzm-latn":211,"./tzm-latn.js":211,"./tzm.js":212,"./ug-cn":213,"./ug-cn.js":213,"./uk":214,"./uk.js":214,"./ur":215,"./ur.js":215,"./uz":217,"./uz-latn":216,"./uz-latn.js":216,"./uz.js":217,"./vi":218,"./vi.js":218,"./x-pseudo":219,"./x-pseudo.js":219,"./yo":220,"./yo.js":220,"./zh-cn":221,"./zh-cn.js":221,"./zh-hk":222,"./zh-hk.js":222,"./zh-tw":223,"./zh-tw.js":223};s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=400},,,,,,,,,function(e,t,i){i(386);var s=i(2)(i(253),i(436),null,null);e.exports=s.exports},function(e,t,i){i(378);var s=i(2)(i(254),i(428),null,null);e.exports=s.exports},function(e,t,i){i(391);var s=i(2)(i(261),i(442),null,null);e.exports=s.exports},function(e,t,i){i(376);var s=i(2)(i(262),i(426),null,null);e.exports=s.exports},function(e,t,i){i(394);var s=i(2)(i(263),i(447),null,null);e.exports=s.exports},function(e,t,i){i(389);var s=i(2)(i(264),i(439),null,null);e.exports=s.exports},function(e,t,i){i(375);var s=i(2)(i(265),i(425),null,null);e.exports=s.exports},function(e,t,i){i(390);var s=i(2)(i(266),i(440),null,null);e.exports=s.exports},function(e,t,i){i(396);var s=i(2)(i(267),i(449),null,null);e.exports=s.exports},function(e,t,i){i(385);var s=i(2)(i(268),i(435),null,null);e.exports=s.exports},function(e,t,i){i(382);var s=i(2)(i(269),i(432),null,null);e.exports=s.exports},function(e,t,i){i(381);var s=i(2)(i(270),i(431),null,null);e.exports=s.exports},function(e,t,i){i(388);var s=i(2)(i(271),i(438),null,null);e.exports=s.exports},function(e,t,i){i(395);var s=i(2)(i(272),i(448),null,null);e.exports=s.exports},function(e,t,i){i(377);var s=i(2)(i(273),i(427),null,null);e.exports=s.exports},function(e,t,i){i(379);var s=i(2)(i(274),i(429),null,null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"node-token-detail"},[i("div",{staticClass:"weui-cells__title"},[e._v("Token详情")]),e._v(" "),e.isLoading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("加载中...")])]):i("div",{staticClass:"weui-form-preview"},[i("div",{staticClass:"weui-form-preview__hd"},[i("div",{staticClass:"weui-form-preview__item"},[i("label",{staticClass:"weui-form-preview__label"},[e._v(e._s(e.token.token))])])]),e._v(" "),i("div",{staticClass:"weui-form-preview__bd"},[i("div",{staticClass:"weui-form-preview__item"},[i("label",{staticClass:"weui-form-preview__label"},[e._v("用途描述")]),e._v(" "),i("span",{staticClass:"weui-form-preview__value"},[e._v(e._s(e.token.title))])]),e._v(" "),i("div",{staticClass:"weui-form-preview__item"},[i("label",{staticClass:"weui-form-preview__label"},[e._v("活跃时间")]),e._v(" "),i("span",{staticClass:"weui-form-preview__value"},[e._v("\n          "+e._s(e.token.activedAt?e.fromNow(e.token.activedAt):"从未使用")+"\n        ")])]),e._v(" "),i("div",{staticClass:"weui-form-preview__item"},[i("label",{staticClass:"weui-form-preview__label"},[e._v("创建时间")]),e._v(" "),i("span",{staticClass:"weui-form-preview__value"},[e._v(e._s(e.fromNow(e.token.createdAt)))])]),e._v(" "),i("div",{staticClass:"weui-form-preview__item"},[i("label",{staticClass:"weui-form-preview__label"},[e._v("更新时间")]),e._v(" "),i("span",{staticClass:"weui-form-preview__value"},[e._v(e._s(e.fromNow(e.token.updatedAt)))])])]),e._v(" "),i("div",{staticClass:"weui-form-preview__ft"},[i("div",{staticClass:"weui-form-preview__btn weui-form-preview__btn_warn",on:{click:function(t){e.remove()}}},[e._v("删除")]),e._v(" "),i("div",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",on:{click:function(t){e.refresh()}}},[e._v("重置")]),e._v(" "),i("div",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.token.token,expression:"token.token"}],staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",on:{success:e.copySuccess,error:e.copyError}},[e._v("\n        复制\n      ")]),e._v(" "),i("router-link",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",attrs:{to:{name:"node-detail"}}},[e._v("\n        返回\n      ")])],1)]),e._v(" "),i("div",{staticClass:"toast",class:{show:e.showCopySuccess}},[i("div",{staticClass:"weui-mask_transparent"}),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),i("p",{staticClass:"weui-toast__content"},[e._v("已复制")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"node-detail"},[i("traffic-chart-stat",{attrs:{data:e.stat,loading:e.isLoading.stat}}),e._v(" "),i("div",{staticClass:"navbar"},[i("router-link",{staticClass:"back",attrs:{to:{name:"nodes"}}},[i("i",{staticClass:"fa fa-angle-left fa-lg"})]),e._v(" "),i("router-link",{staticClass:"edit",attrs:{to:{name:"node-edit"}}},[i("i",{staticClass:"fa fa-edit fa-lg"})])],1),e._v(" "),i("div",{staticClass:"weui-panel"},[i("div",{staticClass:"weui-panel__hd"},[e._v("节点信息")]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.node.nodeId))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.node.name))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.node.server))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.node.method))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.node.description))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.fromNow(e.node.activedAt)))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(6),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.fromNow(e.node.updatedAt)))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(7),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading.node?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.fromNow(e.node.createdAt)))])])])])])]),e._v(" "),i("node-tokens",{attrs:{loading:e.isLoading.tokens,tokens:e.tokens},on:{create:function(t){e.createToken()}}}),e._v(" "),i("node-users",{attrs:{loading:e.isLoading.users,users:e.users}}),e._v(" "),i("traffic-stat",{attrs:{loading:e.isLoading.stat,stat:e.stat,fold:!0}})],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("节点ID")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("节点名称")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("节点地址")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("加密方式")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("节点描述")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("活跃时间")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("更新时间")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("创建时间")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-edit"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}]},[i("div",{staticClass:"weui-cells__title"},[e._v("服务信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isPortError}},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"port"}],staticClass:"weui-input",attrs:{type:"number",placeholder:"请输入 SS 端口"},domProps:{value:e.port},on:{input:function(t){t.target.composing||(e.port=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.isPortError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):e._e()]),e._v(" "),i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isPasswordError}},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入 SS 密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e.isPasswordError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):e._e()]),e._v(" "),i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isTrafficError}},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.trafficLimit,expression:"trafficLimit"}],staticClass:"weui-input",attrs:{type:"number",placeholder:"请输入流量上限"},domProps:{value:e.trafficLimit},on:{input:function(t){t.target.composing||(e.trafficLimit=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.isTrafficError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):i("div",{staticClass:"weui-cell__ft"},[e._v("GB")])])]),e._v(" "),i("div",{staticClass:"weui-cells__title"},[e._v("用户信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.isAdmin,expression:"isAdmin"}],staticClass:"weui-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.isAdmin=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v("用户")]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v("管理员")])])])]),e._v(" "),i("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[e._m(6),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.isLocked,expression:"isLocked"}],staticClass:"weui-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.isLocked=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v("正常")]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v("锁定")])])])])]),e._v(" "),i("div",{staticClass:"weui-btn-area"},[i("div",{staticClass:"weui-flex"},[i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_primary",class:{"weui-btn_disabled":!e.isValid,"weui-btn_loading":e.isValid&&e.isSubmit},on:{click:function(t){e.submit()}}},[e.isSubmit?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 保存中\n            ")]):i("span",[e._v("保存")])])]),e._v(" "),i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_warn",class:{"weui-btn_loading":e.isSubmit||e.isRemove},on:{click:function(t){e.remove()}}},[e.isRemove?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 删除中\n            ")]):i("span",[e._v("删除")])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("SS 端口")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("SS 密码")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("流量上限")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户名")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户昵称")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户角色")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户状态")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-node-users"},[i("div",{staticClass:"weui-panel__hd"},[e._v("\n    活跃用户\n    "),e.showAll?i("i",{staticClass:"fa fa-compress",on:{click:function(t){e.showAll=!1}}}):i("i",{staticClass:"fa fa-expand",on:{click:function(t){e.showAll=!0}}})]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[e.loading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]):e.users&&e.users.length?i("div",{staticClass:"weui-cells"},e._l(e.filtered,function(t){return i("div",{key:t.userId,staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[e._v(e._s(t.nickname))]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e._v(e._s(t.activedAt?e.fromNow(t.activedAt):"从未使用"))])])})):i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无用户")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"users"},[e.isLoading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("加载中...")])]):e.items&&e.items.length?i("div",{staticClass:"weui-panel weui-panel_access"},[i("div",{staticClass:"weui-panel__hd weui-panel_link"},[i("router-link",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{to:{name:"user-add"}}},[i("div",{staticClass:"weui-cell__bd"},[e._v("添加用户")]),e._v(" "),i("span",{staticClass:"weui-cell__ft"})])],1),e._v(" "),i("div",{staticClass:"weui-panel__bd"},e._l(e.items,function(t){return i("router-link",{key:t.userId,staticClass:"weui-media-box weui-media-box_appmsg",attrs:{to:{name:"user-detail",params:{userId:t.userId}}}},[i("div",{staticClass:"weui-media-box__bd"},[i("h4",{staticClass:"weui-media-box__title"},[i("span",[e._v(e._s(t.nickname))]),e._v(" "),i("span",{staticClass:"value"},[e._v(e._s(e.filesize(t.flowUp+t.flowDown)))])]),e._v(" "),i("ul",{staticClass:"weui-media-box__info"},[i("li",{staticClass:"weui-media-box__info__meta"},[e._v("\n              "+e._s(t.activedAt?"活跃于 "+e.fromNow(t.activedAt):"从未使用")+"\n            ")]),e._v(" "),i("li",{staticClass:"weui-media-box__info__meta"},[e._v("\n              "+e._s("已用，共 "+e.filesize(t.trafficLimit))+"\n            ")])])])])}))]):i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无数据")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-traffic-stat"},[i("div",{staticClass:"weui-panel__hd"},[e._v("\n    流量详情\n    "),e.fold&&!e.showAll?i("i",{staticClass:"fa fa-expand",on:{click:function(t){e.showAll=!0}}}):e.fold?i("i",{staticClass:"fa fa-compress",on:{click:function(t){e.showAll=!1}}}):e._e()]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[e.loading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]):e.stat&&e.stat.length?i("div",{staticClass:"weui-cells"},e._l(e.data,function(t){return i("div",{key:t.date,staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[e._v("\n            "+e._s(t.date.slice(0,2)+"月"+t.date.slice(3,5)+"日")+"\n          ")]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e._v("\n            "+e._s(e.filesize(t.flowUp+t.flowDown))+"\n          ")])])})):i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无流量信息")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"traffic"},[i("traffic-chart-stat",{attrs:{data:e.stat,loading:e.isLoading}}),e._v(" "),i("div",{staticClass:"navbar"},[i("router-link",{staticClass:"back",attrs:{to:e.backLink}},[i("i",{staticClass:"fa fa-angle-left fa-lg"})])],1),e._v(" "),i("div",{staticClass:"weui-panel"},[i("traffic-stat",{attrs:{loading:e.isLoading,stat:e.stat}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"services"},[i("div",{staticClass:"weui-panel weui-panel_access"},[i("service-info",{attrs:{title:"全局配置",user:e.profile,loading:e.isLoading}}),e._v(" "),i("div",{staticClass:"weui-panel__hd"},[e._v("服务列表")]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[e.loading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("加载中...")])]):e.items&&e.items.length?e._e():i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无服务")])]),e._v(" "),e._l(e.items,function(t){return i("router-link",{key:t.serviceId,staticClass:"weui-media-box weui-media-box_appmsg",attrs:{to:{name:"service-detail",params:{serviceId:t.serviceId}}}},[i("div",{staticClass:"weui-media-box__hd"},[i("span",{staticClass:"flag-icon",class:["flag-icon-"+t.location]})]),e._v(" "),i("div",{staticClass:"weui-media-box__bd"},[i("h4",{staticClass:"weui-media-box__title"},[e._v(e._s(t.name))]),e._v(" "),i("p",{staticClass:"weui-media-box__desc"},[e._v(e._s(t.description))]),e._v(" "),i("ul",{staticClass:"weui-media-box__info"},[i("li",{staticClass:"weui-media-box__info__meta"},[e._v(e._s(t.server))]),e._v(" "),i("li",{staticClass:"weui-media-box__info__meta weui-media-box__info__meta_extra"},[e._v(e._s(t.method))])])])])})],2)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-traffic-chart-stat"},[i("background"),e._v(" "),i("div",{staticClass:"traffic"},[e.options?i("e-charts",{attrs:{options:e.options}}):e._e()],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-traffic-chart-sum"},[i("background"),e._v(" "),i("div",{staticClass:"traffic"},[i("e-charts",{attrs:{options:e.options}}),e._v(" "),i("div",{staticClass:"value"},[e._v("\n      "+e._s(e.filesize(e.trafficUsed||0)+" / "+e.filesize(e.trafficLimit||0))+"\n    ")])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service-detail"},[i("div",{staticClass:"weui-cells__title"},[e._v("服务信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.service.server,expression:"service.server"}],staticClass:"weui-input",attrs:{disabled:""},domProps:{value:e.service.server},on:{input:function(t){t.target.composing||(e.service.server=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading?i("i",{staticClass:"weui-loading"}):i("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.service.server,expression:"service.server"}],staticClass:"copy",on:{success:e.copySuccess,error:e.copyError}},[i("i",{staticClass:"fa fa-copy"})])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.service.port,expression:"service.port"}],staticClass:"weui-input",attrs:{disabled:""},domProps:{value:e.service.port},on:{input:function(t){t.target.composing||(e.service.port=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading?i("i",{staticClass:"weui-loading"}):i("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.service.port,expression:"service.port"}],staticClass:"copy",on:{success:e.copySuccess,error:e.copyError}},[i("i",{staticClass:"fa fa-copy"})])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.service.method,expression:"service.method"}],staticClass:"weui-input",attrs:{disabled:""},domProps:{value:e.service.method},on:{input:function(t){t.target.composing||(e.service.method=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading?i("i",{staticClass:"weui-loading"}):i("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.service.method,expression:"service.method"}],staticClass:"copy",on:{success:e.copySuccess,error:e.copyError}},[i("i",{staticClass:"fa fa-copy"})])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.service.password,expression:"service.password"}],staticClass:"weui-input",attrs:{disabled:""},domProps:{value:e.service.password},on:{input:function(t){t.target.composing||(e.service.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading?i("i",{staticClass:"weui-loading"}):i("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.service.password,expression:"service.password"}],staticClass:"copy",on:{success:e.copySuccess,error:e.copyError}},[i("i",{staticClass:"fa fa-copy"})])])])]),e._v(" "),i("div",{staticClass:"weui-cells__title"},[e._v("快速连接")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.service.uri,expression:"service.uri"}],staticClass:"weui-input",attrs:{disabled:""},domProps:{value:e.service.uri},on:{input:function(t){t.target.composing||(e.service.uri=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.isLoading?i("i",{staticClass:"weui-loading"}):i("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.service.uri,expression:"service.uri"}],staticClass:"copy",on:{success:e.copySuccess,error:e.copyError}},[i("i",{staticClass:"fa fa-copy"})])])])]),e._v(" "),i("div",{staticClass:"weui-btn-area"},[i("div",{staticClass:"weui-flex__item"},[i("router-link",{staticClass:"weui-btn weui-btn_default",attrs:{to:{name:"services"}}},[e._v("\n        返回\n      ")])],1)]),e._v(" "),i("div",{staticClass:"toast",class:{show:e.showSuccess}},[i("div",{staticClass:"weui-mask_transparent"}),e._v(" "),e._m(5)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("服务器")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("远程端口")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("加密方式")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("密码")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("SS 协议")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),i("p",{staticClass:"weui-toast__content"},[e._v("已复制")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-node-tokens"},[i("div",{staticClass:"weui-panel__hd"},[e._v("\n    节点Token\n    "),i("i",{staticClass:"fa fa-plus-circle",on:{click:function(t){e.$emit("create")}}})]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[e.loading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]):e.tokens&&e.tokens.length?i("div",{staticClass:"weui-cells"},e._l(e.tokens,function(t){return i("router-link",{key:t.tokenId,staticClass:"weui-cell weui-cell_access",attrs:{to:e.getDetailLink(t.nodeTokenId)}},[i("div",{staticClass:"weui-cell__bd"},[e._v("\n            "+e._s(t.title)+"\n          ")]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e._v("\n            "+e._s(t.activedAt?e.fromNow(t.activedAt):"从未使用")+"\n          ")])])})):i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无Token")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app weui-tab"},[i("div",{staticClass:"weui-tab__panel",style:{"padding-bottom":e.tabberShow?"50px":"0"}},[i("router-view",{attrs:{profile:e.profile},on:{profileUpdate:function(t){e.fetchProfile()}}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.tabberShow,expression:"tabberShow"}],staticClass:"weui-tabbar"},[i("router-link",{staticClass:"weui-tabbar__item",class:e.tabberClass[0],attrs:{to:{name:"services"}}},[i("i",{staticClass:"fa fa-paper-plane weui-tabbar__icon"}),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._v("服务")])]),e._v(" "),i("router-link",{staticClass:"weui-tabbar__item",class:e.tabberClass[1],attrs:{to:{name:"profile"}}},[i("i",{staticClass:"fa fa-user weui-tabbar__icon"}),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._v("我")])]),e._v(" "),e.profile.isAdmin?i("router-link",{staticClass:"weui-tabbar__item",class:e.tabberClass[2],attrs:{to:{name:"users"}}},[i("i",{staticClass:"fa fa-users weui-tabbar__icon"}),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._v("用户")])]):e._e(),e._v(" "),e.profile.isAdmin?i("router-link",{staticClass:"weui-tabbar__item",class:e.tabberClass[3],attrs:{to:{name:"nodes"}}},[i("i",{staticClass:"fa fa-sitemap weui-tabbar__icon"}),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._v("节点")])]):e._e(),e._v(" "),e.profile.isAdmin?i("router-link",{staticClass:"weui-tabbar__item",class:e.tabberClass[4],attrs:{to:{name:"configs"}}},[i("i",{staticClass:"fa fa-cogs weui-tabbar__icon"}),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._v("配置")])]):e._e()],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-add"},[i("div",{staticClass:"weui-cells__title"},[e._v("用户信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"weui-btn-area"},[i("div",{staticClass:"weui-flex"},[i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_primary",class:{"weui-btn_disabled":!e.isValid,"weui-btn_loading":e.isValid&&e.isLoading},on:{click:function(t){e.add()}}},[e.isLoading?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 保存中\n          ")]):i("span",[e._v("保存")])])]),e._v(" "),i("div",{staticClass:"weui-flex__item"},[i("router-link",{staticClass:"weui-btn weui-btn_default",class:{"weui-btn_loading":e.isLoading},attrs:{to:{name:"users"}}},[e._v("返回")])],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户名")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("用户昵称")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nodes weui-panel weui-panel_access"},[i("div",{staticClass:"weui-panel__hd weui-panel_link"},[i("router-link",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{to:{name:"node-add"}}},[i("div",{staticClass:"weui-cell__bd"},[e._v("添加节点")]),e._v(" "),i("span",{staticClass:"weui-cell__ft"})])],1),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[e.isLoading?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("加载中...")])]):e.items&&e.items.length?e._e():i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[e._v("暂无服务")])]),e._v(" "),e._l(e.items,function(t){return i("router-link",{key:t.nodeId,staticClass:"weui-media-box weui-media-box_appmsg",attrs:{to:{name:"node-detail",params:{nodeId:t.nodeId}}}},[i("div",{staticClass:"weui-media-box__hd"},[i("span",{staticClass:"flag-icon",class:["flag-icon-"+t.location]})]),e._v(" "),i("div",{staticClass:"weui-media-box__bd"},[i("h4",{staticClass:"weui-media-box__title"},[i("span",[e._v(e._s(t.name))]),e._v(" "),t.isVisible?i("span",{staticClass:"visible"},[i("i",{staticClass:"fa fa-eye"})]):i("span",{staticClass:"hidden"},[i("i",{staticClass:"fa fa-eye-slash"})])]),e._v(" "),i("p",{staticClass:"weui-media-box__desc"},[e._v(e._s(t.description))]),e._v(" "),i("ul",{staticClass:"weui-media-box__info"},[i("li",{staticClass:"weui-media-box__info__meta"},[e._v("\n            "+e._s(t.server)+"\n          ")]),e._v(" "),i("li",{staticClass:"weui-media-box__info__meta weui-media-box__info__meta_extra"},[e._v("\n            "+e._s(t.method)+"\n          ")])])])])})],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-edit"},[i("div",{staticClass:"weui-cells__title"},[e._v("服务信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isPortError}},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"port"}],staticClass:"weui-input",attrs:{type:"number",placeholder:"请输入端口"},domProps:{value:e.port},on:{input:function(t){t.target.composing||(e.port=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.isLoading?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-loading"})]):e._e(),e._v(" "),e.isPortError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):e._e()]),e._v(" "),i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isPasswordError}},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e.isLoading?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-loading"})]):e._e(),e._v(" "),e.isPasswordError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):e._e()])]),e._v(" "),i("div",{staticClass:"weui-btn-area"},[i("div",{staticClass:"weui-flex"},[i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_primary",class:{"weui-btn_disabled":!e.isValid,"weui-btn_loading":e.isValid&&e.isSubmit},on:{click:function(t){e.submit()}}},[e.isSubmit?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 保存中\n          ")]):i("span",[e._v("保存")])])]),e._v(" "),i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_default",class:{"weui-btn_loading":e.isSubmit},on:{click:function(t){e.$router.go(-1)}}},[e._v("\n          返回\n        ")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("SS 端口")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("SS 密码")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-user-info"},[i("div",{staticClass:"weui-panel__hd"},[e._v("个人信息")]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.username))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.nickname))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.isLocked?"锁定":"正常"))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.isAdmin?"管理员":"用户"))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.activedAt?e.fromNow(e.user.activedAt):"从未使用"))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.fromNow(e.user.createdAt)))])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("用户名")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("用户昵称")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("用户状态")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("用户角色")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("在线时间")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("加入时间")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"configs"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}]},[i("div",{staticClass:"weui-cells__title"},[e._v("系统配置")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},e._l(e.configs,function(t,s){return i("div",{key:t.configId,staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__hd"},[e._v("\n          "+e._s(t.description)+"\n        ")]),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newValue,expression:"config.newValue"}],staticClass:"weui-input",attrs:{type:"tel"},domProps:{value:t.newValue},on:{input:function(e){e.target.composing||(t.newValue=e.target.value)}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.newValue!==t.value,expression:"config.newValue !== config.value"}],staticClass:"weui-btn weui-btn_mini weui-btn_primary",on:{click:function(t){e.update(s)}}},[t.isLoading?i("i",{staticClass:"weui-loading"}):i("span",[e._v("保存")])])])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"echarts"})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"comp-background"})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-traffic-info"},[i("div",{staticClass:"weui-panel__hd"},[e._v("流量信息")]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.filesize(e.user.flowUp||0)))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.filesize(e.user.flowDown||0)))])])]),e._v(" "),i("router-link",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{to:e.detailLink}},[i("div",{staticClass:"weui-cell__bd"},[e._v("流量详情")]),e._v(" "),i("span",{staticClass:"weui-cell__ft"})])],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("上传流量")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("下载流量")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comp-service-info"},[i("div",{staticClass:"weui-panel__hd"},[e._v("服务信息")]),e._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"weui-media-box weui-media-box_small-appmsg"},[i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.port))])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[e.loading?i("i",{staticClass:"weui-loading"}):i("span",[e._v(e._s(e.user.password))])])]),e._v(" "),e.isprofile?i("router-link",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{to:{name:"profile-edit"}}},[i("div",{staticClass:"weui-cell__bd"},[e._v("修改配置")]),e._v(" "),i("span",{staticClass:"weui-cell__ft"})]):e._e()],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("SS 端口")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("SS 密码")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"node-edit"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),e._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}]},[i("div",{staticClass:"weui-cells__title"},[e._v("节点信息")]),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_form weui-panel__bd"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入节点名称"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],staticClass:"weui-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.location=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"au"}},[e._v("澳大利亚")]),e._v(" "),i("option",{attrs:{value:"de"}},[e._v("德国")]),e._v(" "),i("option",{attrs:{value:"fr"}},[e._v("法国")]),e._v(" "),i("option",{attrs:{value:"kr"}},[e._v("韩国")]),e._v(" "),i("option",{attrs:{value:"nl"}},[e._v("荷兰")]),e._v(" "),i("option",{attrs:{value:"ca"}},[e._v("加拿大")]),e._v(" "),i("option",{attrs:{value:"us"}},[e._v("美国")]),e._v(" "),i("option",{attrs:{value:"jp"}},[e._v("日本")]),e._v(" "),i("option",{attrs:{value:"se"}},[e._v("瑞典")]),e._v(" "),i("option",{attrs:{value:"es"}},[e._v("西班牙")]),e._v(" "),i("option",{attrs:{value:"gr"}},[e._v("希腊")]),e._v(" "),i("option",{attrs:{value:"sg"}},[e._v("新加坡")]),e._v(" "),i("option",{attrs:{value:"in"}},[e._v("印度")]),e._v(" "),i("option",{attrs:{value:"gb"}},[e._v("英国")]),e._v(" "),i("option",{attrs:{value:"cn"}},[e._v("中国")])])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"weui-textarea",attrs:{placeholder:"请输入节点描述",rows:"3"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.server,expression:"server"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入服务器地址"},domProps:{value:e.server},on:{input:function(t){t.target.composing||(e.server=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],staticClass:"weui-input",attrs:{type:"text",placeholder:"请输入 SS 加密方式"},domProps:{value:e.method},on:{input:function(t){t.target.composing||(e.method=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.isVisible,expression:"isVisible"}],staticClass:"weui-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.isVisible=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"1"}},[e._v("可见")]),e._v(" "),i("option",{attrs:{value:"0"}},[e._v("隐藏")])])])]),e._v(" "),i("div",{staticClass:"weui-cell",class:{"weui-cell_warn":e.isSortError}},[e._m(6),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],staticClass:"weui-input",attrs:{type:"number",placeholder:"请输入排序 ID"},domProps:{value:e.sort},on:{input:function(t){t.target.composing||(e.sort=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.isSortError?i("div",{staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})]):e._e()])]),e._v(" "),i("div",{staticClass:"weui-btn-area"},[i("div",{staticClass:"weui-flex"},[i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_primary",class:{"weui-btn_disabled":!e.isValid,"weui-btn_loading":e.isValid&&(e.isSubmit||e.isRemove)},on:{click:function(t){e.submit()}}},[e.isSubmit?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 保存中\n          ")]):i("span",[e._v("保存")])])]),e._v(" "),e.nodeId?i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"weui-btn weui-btn_warn",class:{"weui-btn_loading":e.isSubmit||e.isRemove},on:{click:function(t){e.remove()}}},[e.isRemove?i("span",[i("i",{staticClass:"weui-loading"}),e._v(" 删除中\n          ")]):i("span",[e._v("删除")])])]):i("div",{staticClass:"weui-flex__item"},[i("router-link",{staticClass:"weui-btn weui-btn_default",class:{"weui-btn_loading":e.isSubmit},attrs:{to:{name:"nodes"}}},[e._v("\n          返回\n        ")])],1)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("节点名称")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("所在地区")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("节点描述")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("连接地址")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("加密方式")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("是否可见")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[e._v("节点排序")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-detail"},[i("traffic-chart-sum",{attrs:{user:e.user}}),e._v(" "),i("div",{staticClass:"navbar"},[i("router-link",{staticClass:"back",attrs:{to:{name:"users"}}},[i("i",{staticClass:"fa fa-angle-left fa-lg"})]),e._v(" "),i("router-link",{staticClass:"edit",attrs:{to:{name:"user-edit"}}},[i("i",{staticClass:"fa fa-edit fa-lg"})])],1),e._v(" "),i("div",{staticClass:"weui-panel"},[i("traffic-info",{attrs:{user:e.user,loading:e.isLoading,isprofile:!1}}),e._v(" "),i("service-info",{attrs:{user:e.user,loading:e.isLoading,isprofile:!1}}),e._v(" "),i("user-info",{attrs:{user:e.user,loading:e.isLoading}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile"},[i("traffic-chart-sum",{attrs:{user:e.profile}}),e._v(" "),i("div",{staticClass:"weui-panel"},[i("traffic-info",{attrs:{user:e.profile,loading:e.isLoading,isprofile:!0}}),e._v(" "),i("service-info",{attrs:{user:e.profile,loading:e.isLoading,isprofile:!0}}),e._v(" "),i("user-info",{attrs:{user:e.profile,loading:e.isLoading}})],1)],1)},staticRenderFns:[]}}],[250]);
//# sourceMappingURL=app.38db07b9043547c1ff03.js.map